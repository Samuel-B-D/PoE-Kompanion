<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:controls="clr-namespace:PoEKompanion.Controls"
             mc:Ignorable="d" d:DesignWidth="200" d:DesignHeight="30"
             x:Class="PoEKompanion.Controls.HotkeyPickerButton"
             x:DataType="controls:HotkeyPickerButton"
             x:Name="Root">

    <UserControl.Styles>
        <StyleInclude Source="/Styles/PoETheme.axaml"/>

        <!-- Custom style for the picker button -->
        <Style Selector="Button.PoEPickerButton">
            <Setter Property="Background" Value="{StaticResource PoEButtonGradient}"/>
            <Setter Property="Foreground" Value="{StaticResource PoEGoldBrush}"/>
            <Setter Property="BorderBrush" Value="{StaticResource PoEOrangeBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="10,5"/>
            <Setter Property="FontWeight" Value="Normal"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>

        <Style Selector="Button.PoEPickerButton:pointerover">
            <Setter Property="Background" Value="{StaticResource PoEButtonHoverGradient}"/>
            <Setter Property="Foreground" Value="{StaticResource PoEGoldLightBrush}"/>
            <Setter Property="BorderBrush" Value="{StaticResource PoEOrangeLightBrush}"/>
        </Style>

        <Style Selector="Button.PoEPickerButton.listening">
            <Setter Property="Background" Value="{StaticResource PoEButtonPressedGradient}"/>
            <Setter Property="Foreground" Value="{StaticResource PoEGoldLightBrush}"/>
            <Setter Property="BorderBrush" Value="{StaticResource PoEOrangeLightBrush}"/>
        </Style>
    </UserControl.Styles>

    <Button Name="PickerButton"
            Content="{Binding #Root.KeyDisplayName}"
            Classes="PoEPickerButton"
            Click="OnButtonClick"
            HorizontalAlignment="Stretch"
            VerticalAlignment="Stretch"
            MinWidth="150"
            Height="30">
        <ToolTip.Tip>
            <ToolTip IsVisible="{Binding #Root.IsListening}"
                     Placement="Right">
                <TextBlock Text="Press a key or mouse button to bind it to this action (press escape to cancel)" />
            </ToolTip>
        </ToolTip.Tip>
    </Button>
</UserControl>